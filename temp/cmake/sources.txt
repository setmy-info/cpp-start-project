# PLACEHOLDER-BEGIN #

SET (PROJECT_MODULE_APPLICATION_SOURCES ${MAIN_SOURCES_PATH}/cpp/main.cpp)
SET (PROJECT_MODULE_LIBRARY_SOURCES ${MAIN_SOURCES_PATH}/cpp/Application.cpp ${MAIN_SOURCES_PATH}/cpp/Example.cpp)

# -Wall -Wextra -pedantic -Werror
ADD_COMPILE_OPTIONS(-Wall -Wextra -pedantic)
ADD_COMPILE_OPTIONS(-DPTHREADSAFE)

SET (CMAKE_CXX_STANDARD 20)
SET (CMAKE_CXX_STANDARD_REQUIRED ON)
SET (CMAKE_CXX_EXTENSIONS OFF)

IF(CMAKE_BUILD_TYPE STREQUAL "Debug")
    ADD_COMPILE_OPTIONS(-DDEBUG -D_DEBUG)
ENDIF()

IF(CMAKE_SYSTEM_NAME STREQUAL "FreeBSD")
    SET (JDK_LIB_DIR                "/opt/jdk/lib")
    SET (JDK_INCLUDE_DIR            "/opt/jdk/include")
    SET (JDK_INCLUDE_OS_DIR         "/opt/jdk/include/freebsd")
    SET (EXAMPLE_LINKING            "-lexampleshared -pthread")
    SET (EXAMPLE_TEST_LINKING       "-lexampleshared -pthread")
ENDIF()

IF(CMAKE_SYSTEM_NAME STREQUAL "Linux" )
    SET (JDK_LIB_DIR                "/opt/jdk/lib")
    SET (JDK_INCLUDE_DIR            "/opt/jdk/include")
    SET (JDK_INCLUDE_OS_DIR         "/opt/jdk/include/linux")
    SET (EXAMPLE_LINKING            "-lexampleshared -pthread -ldl")
    SET (EXAMPLE_TEST_LINKING       "-lexampleshared -pthread -ldl")
ENDIF()

SET (CMAKE_C_FLAGS_RELEASE "${CMAKE_C_FLAGS_RELEASE} -s")
SET (CMAKE_CXX_FLAGS_RELEASE "${CMAKE_CXX_FLAGS_RELEASE} -s")

INCLUDE_DIRECTORIES("${MAIN_SOURCES_PATH}/cpp/include")
INCLUDE_DIRECTORIES("${TEST_SOURCES_PATH}/cpp/include")
INCLUDE_DIRECTORIES(${JDK_INCLUDE_DIR})
INCLUDE_DIRECTORIES(${JDK_INCLUDE_OS_DIR})

LINK_DIRECTORIES(${JDK_LIB_DIR})
LINK_DIRECTORIES("${DESTINATION_PATH}/lib")

# PLACEHOLDER-END #
